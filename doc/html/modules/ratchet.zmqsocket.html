<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>LuaDoc</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h1>Modules</h1>
<ul>

	<li>
		<a href="../modules/ratchet.html">ratchet</a>
	</li>

	<li>
		<a href="../modules/ratchet.bus.html">ratchet.bus</a>
	</li>

	<li>
		<a href="../modules/ratchet.bus.transaction.html">ratchet.bus.transaction</a>
	</li>

	<li>
		<a href="../modules/ratchet.dns.html">ratchet.dns</a>
	</li>

	<li>
		<a href="../modules/ratchet.http.client.html">ratchet.http.client</a>
	</li>

	<li>
		<a href="../modules/ratchet.http.server.html">ratchet.http.server</a>
	</li>

	<li>
		<a href="../modules/ratchet.smtp.client.html">ratchet.smtp.client</a>
	</li>

	<li>
		<a href="../modules/ratchet.smtp.server.html">ratchet.smtp.server</a>
	</li>

	<li>
		<a href="../modules/ratchet.socket.html">ratchet.socket</a>
	</li>

	<li>
		<a href="../modules/ratchet.socketpad.html">ratchet.socketpad</a>
	</li>

	<li>
		<a href="../modules/ratchet.ssl.html">ratchet.ssl</a>
	</li>

	<li>
		<a href="../modules/ratchet.ssl.session.html">ratchet.ssl.session</a>
	</li>

	<li>
		<a href="../modules/ratchet.timerfd.html">ratchet.timerfd</a>
	</li>

	<li><strong>ratchet.zmqsocket</strong></li>
	
</ul>



<!-- File list -->






</div><!-- id="navigation" -->

<div id="content">

<h1>Module <code>ratchet.zmqsocket</code></h1>

<p>The zmqsocket library provides an implementation of the ZeroMQ socket library on top of the ratchet library. Any methods that pause execution MUST be called from within a thread attached to a ratchet object. These functions can fail, see error handling section in manual for details.</p>





<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#bind">bind</a>&nbsp;(self, endpoint)</td>
	<td class="summary">Binds the socket to the given endpoint and accepts connections.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#connect">connect</a>&nbsp;(self, endpoint)</td>
	<td class="summary">Connects the socket to the given endpoint.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#get_fd">get_fd</a>&nbsp;(self)</td>
	<td class="summary">Returns the internal socket file descriptor.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#get_timeout">get_timeout</a>&nbsp;(self)</td>
	<td class="summary">Gets the current timeout for all methods that pause the thread.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#new">new</a>&nbsp;(type)</td>
	<td class="summary">Returns a new zmqsocket object.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#prepare_uri">prepare_uri</a>&nbsp;(uri)</td>
	<td class="summary">URI schema handler for TCP connection strings.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#recv">recv</a>&nbsp;(self)</td>
	<td class="summary">Pauses the current thread until the socket has data to receive and returns it.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#recv_all">recv_all</a>&nbsp;(self)</td>
	<td class="summary">Loops calls to recv() until all message parts are received.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#send">send</a>&nbsp;(self, data, more_coming)</td>
	<td class="summary">Pauses the current thread until the socket is ready to send data and then sends it.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#set_timeout">set_timeout</a>&nbsp;(self, seconds)</td>
	<td class="summary">Sets the current timeout for all methods that pause the thread.</td>
	</tr>

</table>






<br/>
<br/>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="bind"></a><strong>bind</strong>&nbsp;(self, endpoint)</dt>
<dd>
Binds the socket to the given endpoint and accepts connections.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: the zmqsocket object.
	</li>
	
	<li>
	  endpoint: connection string to bind to.
	</li>
	
</ul>








</dd>




<dt><a name="connect"></a><strong>connect</strong>&nbsp;(self, endpoint)</dt>
<dd>
Connects the socket to the given endpoint.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: the zmqsocket object.
	</li>
	
	<li>
	  endpoint: connection string to connect to.
	</li>
	
</ul>








</dd>




<dt><a name="get_fd"></a><strong>get_fd</strong>&nbsp;(self)</dt>
<dd>
Returns the internal socket file descriptor.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: the zmqsocket object.
	</li>
	
</ul>






<h3>Return value:</h3>
a file descriptor.



</dd>




<dt><a name="get_timeout"></a><strong>get_timeout</strong>&nbsp;(self)</dt>
<dd>
Gets the current timeout for all methods that pause the thread.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: the zmqsocket object.
	</li>
	
</ul>






<h3>Return value:</h3>
the current timeout in seconds.



</dd>




<dt><a name="new"></a><strong>new</strong>&nbsp;(type)</dt>
<dd>
Returns a new zmqsocket object.


<h3>Parameters</h3>
<ul>
	
	<li>
	  type: string corresponding to ZeroMQ socket types, e.g. "PAIR".
	</li>
	
</ul>






<h3>Return value:</h3>
a new zmqsocket object.



</dd>




<dt><a name="prepare_uri"></a><strong>prepare_uri</strong>&nbsp;(uri)</dt>
<dd>
URI schema handler for TCP connection strings. Strings must with "zmq", followed by a ":", followed by a ZeroMQ socket type (e.g. "PAIR"), followed by a ":", followed by something suitable to be passed to zmq_connect() or zmq_bind() as an endpoint. See the manual page for complete details.


<h3>Parameters</h3>
<ul>
	
	<li>
	  uri: the URI connection string.
	</li>
	
</ul>






<h3>Return value:</h3>
table containing keys "type" and "endpoint" useful in creation and usage of zmqsocket objects.



</dd>




<dt><a name="recv"></a><strong>recv</strong>&nbsp;(self)</dt>
<dd>
Pauses the current thread until the socket has data to receive and returns it. This call only receives one message part, but tells if this message has more parts to follow.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: the zmqsocket object.
	</li>
	
</ul>






<h3>Return value:</h3>
string containing data, followed by true if there are more parts of this message to receive.



</dd>




<dt><a name="recv_all"></a><strong>recv_all</strong>&nbsp;(self)</dt>
<dd>
Loops calls to recv() until all message parts are received. Message parts are concatenated into one large string.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: the zmqsocket object.
	</li>
	
</ul>






<h3>Return value:</h3>
string containing the data.



</dd>




<dt><a name="send"></a><strong>send</strong>&nbsp;(self, data, more_coming)</dt>
<dd>
Pauses the current thread until the socket is ready to send data and then sends it.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: the zmqsocket object.
	</li>
	
	<li>
	  data: string with the data to send.
	</li>
	
	<li>
	  more_coming: optionally pass true if more message parts will be sent, last message part more_coming must be false or not given.
	</li>
	
</ul>








</dd>




<dt><a name="set_timeout"></a><strong>set_timeout</strong>&nbsp;(self, seconds)</dt>
<dd>
Sets the current timeout for all methods that pause the thread.


<h3>Parameters</h3>
<ul>
	
	<li>
	  self: the zmqsocket object.
	</li>
	
	<li>
	  seconds: the new timeout in seconds.
	</li>
	
</ul>








</dd>


</dl>






</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
